{"version":3,"sources":["components/Profile/Profileinfo/Profileinfo.module.css","components/Profile/Profileinfo/ProfileDataForm.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/Profile.module.css","components/Profile/Profileinfo/ProfileStatusWithHooks.jsx","components/Profile/Profileinfo/ProfileDataForm.jsx","components/Profile/Profileinfo/Profileinfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","className","s","profileStatus","onDoubleClick","isOwner","onChange","e","currentTarget","value","onBlur","updateStatus","autoFocus","ProfileDataFormReduxForm","reduxForm","form","handleSubmit","profile","error","dataForm","onSubmit","style","formSummeryError","name","createField","Input","item","Textarea","contacts","contactsItems","Object","keys","map","key","contactsItem","ProfileData","goToEditMode","info","onClick","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","Contact","Profileinfo","profile_info","myProfile","mainPhoto","src","photos","large","userPhoto","alt","fileUpload","type","id","target","files","length","savePhoto","initialValues","formData","saveProfile","then","Preloader","Post","postInfo","likes","like","likesCounts","message","MyPosts","onAddPost","values","addPost","newPostText","this","myPosts","newPost","AddPostForm","posts","p","PureComponent","maxLength10","maxLengthCreator","Field","component","validate","required","placeholder","onSubmitSuccess","result","dispatch","reset","MyPostContainer","connect","state","profilePage","addPostActionCreator","Profile","MyPostsContainer","ProfileContainer","userId","match","params","authorizedUserId","history","push","getUserProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","React","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.0f9f148a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile_info\":\"Profileinfo_profile_info__ofTLS\",\"img\":\"Profileinfo_img__88uNW\",\"myProfile\":\"Profileinfo_myProfile__3opTM\",\"mainPhoto\":\"Profileinfo_mainPhoto__aCOFb\",\"fileUpload\":\"Profileinfo_fileUpload__3Fecm\",\"profileStatus\":\"Profileinfo_profileStatus__1mV2t\",\"info\":\"Profileinfo_info__NrK7v\",\"name\":\"Profileinfo_name__2LS4Q\",\"item\":\"Profileinfo_item__1BaeD\",\"contacts\":\"Profileinfo_contacts__3sqh-\",\"contactsItems\":\"Profileinfo_contactsItems__3r-Gt\",\"contactsItem\":\"Profileinfo_contactsItem__2Lmd5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dataForm\":\"ProfileDataForm_dataForm__xcaHp\",\"name\":\"ProfileDataForm_name__1yiHS\",\"item\":\"ProfileDataForm_item__3bykf\",\"contacts\":\"ProfileDataForm_contacts__3m1on\",\"contactsItems\":\"ProfileDataForm_contactsItems__2_FSS\",\"contactsItem\":\"ProfileDataForm_contactsItem__3NRJy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__2Arsg\",\"newPost\":\"MyPosts_newPost__2PmOb\",\"posts\":\"MyPosts_posts__2xMHF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3M4-h\",\"postInfo\":\"Post_postInfo__3RxeY\",\"message\":\"Post_message__3itWf\",\"likes\":\"Post_likes__2A14U\",\"like\":\"Post_like__1LNdi\",\"likesCounts\":\"Post_likesCounts__2D6UU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__1LYcf\"};","import React, {useEffect, useState} from \"react\";\r\nimport s from \"./Profileinfo.module.css\";\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\t\r\n\tlet [editMode, setEditMode] = useState(false);   //useState возвращает [знач. , функция изм.зн.]\r\n\tlet [status, setStatus] = useState(props.status);\r\n\t\r\n\tuseEffect( () => {\r\n\t\tsetStatus(props.status);\r\n\t}, [props.status] );\r\n\t\r\n\tconst activateEditMode = () => {\r\n\t\tif (props.isOwner) {\r\n\t\t\tsetEditMode(true);\r\n\t\t}\r\n\t};\r\n\t\r\n\tconst deactivateEditMOde = () => {\r\n\t\tsetEditMode(false);\r\n\t\tprops.updateStatus(status);\r\n\t};\r\n\t\r\n\tconst onStatusChange = (e) => {\r\n\t\tsetStatus(e.currentTarget.value);\r\n\t};\r\n\t\r\n\treturn (\r\n\t  <div className={s.profileStatus}>\r\n\t\t  { !editMode &&\r\n\t\t  <div>\r\n\t\t\t  <b>Status: </b><span onDoubleClick={activateEditMode}>{props.status || \"Status\"}</span>\r\n\t\t  </div>\r\n\t\t  }\r\n\t\t  {editMode &&\r\n\t\t  <div>\r\n\t\t\t  <input onChange={onStatusChange}\r\n\t\t\t\t\t\tonBlur={deactivateEditMOde}\r\n\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t\tvalue={status}/>\r\n\t\t  </div>\r\n\t\t  }\r\n\t  </div>\r\n\t)\r\n};\r\n\r\n\r\n\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport s from \"./ProfileDataForm.module.css\";\r\nimport {createField, Input, Textarea} from \"../../common/FormsContols/FormsControls\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport style from \"../../common/FormsContols/FormsControls.module.css\"\r\n\r\n\r\nconst ProfileDataForm = ({handleSubmit,profile, error}) => {\r\n\treturn (\r\n\t  <form className={s.dataForm} onSubmit={handleSubmit}>\r\n\t\t  <button>save</button>\r\n\t\t  { error && <div className={style.formSummeryError}>{error}</div>}\r\n\t\t  <div className={s.name}>\r\n\t\t\t  <b>Full name: </b>{createField(\"Full name\", \"fullName\", [], Input)}\r\n\t\t  </div>\r\n\t\t  <div className={s.item}>\r\n\t\t\t  <b>Looking for a job: </b>\r\n\t\t\t  {createField(\"\", \"lookingForAJob\", [], Input, \"checkbox\")}\r\n\t\t  </div>\r\n\t\t  <div className={s.item}>\r\n\t\t\t  <b>My professional skills: </b>\r\n\t\t\t  {createField(\"My professional skills\", \"lookingForAJobDescription\", [], Textarea)}\r\n\t\t  </div>\r\n\t\t  <div className={s.item}>\r\n\t\t\t  <b>About me: </b>{createField(\"About me\", \"aboutMe\", [], Textarea)}\r\n\t\t  </div>\r\n\t\t  <div className={s.item}>\r\n\t\t\t  <div className={s.contacts}>\r\n\t\t\t\t  <b>Contacts: </b>\r\n\t\t\t\t  <div className={s.contactsItems}>{Object.keys(profile.contacts).map(key => {\r\n\t\t\t\t\t\t  return <div key={key} className={s.contactsItem}>\r\n\t\t\t\t\t\t\t  <b>{key}: </b>{createField(key, \"contacts.\" + key, [], Input)}\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t  } )}\r\n\t\t\t\t  </div>\r\n\t\t\t  </div>\r\n\t\t\t  { error && <div className={style.formSummeryError}>{error}</div>}\r\n\t\t  </div>\r\n\t  </form>\r\n\t)\r\n};\r\n\r\n\r\n\r\nconst ProfileDataFormReduxForm = reduxForm ({form: 'editProfile'}) (ProfileDataForm);\r\n\r\nexport default ProfileDataFormReduxForm;","import React, {useState} from \"react\";\r\nimport s from \"./Profileinfo.module.css\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport userPhoto from \"../../../assets/img/userphoto.png\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\n\r\nfunction Profileinfo(props) {\r\n\t\r\n\tlet [editMode, setEditMode] = useState(false);\r\n\t\r\n\tif(!props.profile) {\r\n\t\treturn <Preloader/>\r\n\t}\r\n\t\r\n\tconst onMainPhotoSelector = (e) => {\r\n\t\tif (e.target.files.length) {\r\n\t\t\tprops.savePhoto(e.target.files[0]);\r\n\t\t}\r\n\t};\r\n\t\r\n\tconst onSubmit = (formData) => {\r\n\t\t props.saveProfile(formData).then(\r\n\t\t\t() => {\r\n\t\t\t\tsetEditMode(false);\r\n\t\t\t}\r\n\t\t );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={s.profile_info}>\r\n\t\t\t<div className={s.myProfile}>\r\n\t\t\t\t<div className={s.mainPhoto}>\r\n\t\t\t\t\t<img src={props.profile.photos.large || userPhoto} alt=\"userAvatar\" />\r\n\t\t\t\t\t\r\n\t\t\t\t\t{props.isOwner &&\r\n\t\t\t\t\t<div className={s.fileUpload}>\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<input type={\"file\"} name={\"file\"} id={\"upFile\"} onChange={onMainPhotoSelector} />\r\n\t\t\t\t\t\t\tChoose File\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>}\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} isOwner={props.isOwner} />\r\n\t\t\t\t{editMode\r\n\t\t\t\t  ? <ProfileDataForm initialValues={props.profile} profile={props.profile} onSubmit={onSubmit}/>\r\n\t\t\t\t  : <ProfileData profile={props.profile}\r\n\t\t\t\t\t\t\t\t\t  isOwner={props.isOwner}\r\n\t\t\t\t\t\t\t\t\t  goToEditMode={ () => {setEditMode(true)}} />}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\r\n\treturn (\r\n\t  <div className={s.info}>\r\n\t\t  {isOwner && <button onClick={goToEditMode}>edit</button>}\r\n\t\t  <div className={s.name}><h2>{profile.fullName}</h2></div>\r\n\t\t  <div className={s.item}>\r\n\t\t\t  <strong>Looking for a job: </strong>\r\n\t\t\t  {profile.lookingForAJob\r\n\t\t\t\t ? <string>in the search</string>\r\n\t\t\t\t : <string>no</string>\r\n\t\t\t  }\r\n\t\t  </div>\r\n\t\t  {profile.lookingForAJob &&\r\n\t\t  <div className={s.item}>\r\n\t\t\t  <strong>My professional skills: </strong>\r\n\t\t\t  {profile.lookingForAJobDescription}\r\n\t\t  </div>\r\n\t\t  }\r\n\t\t  <div className={s.item}><strong>About me: </strong>{profile.aboutMe}</div>\r\n\t\t  <div className={s.item}>\r\n\t\t\t  <div className={s.contacts}>\r\n\t\t\t\t  <strong>Contacts: </strong>\r\n\t\t\t\t  <div className={s.contactsItems}>\r\n\t\t\t\t\t  <div className={s.contactsItem}>{Object.keys(profile.contacts).map(key => {\r\n\t\t\t\t\t\t  return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key] } />\r\n\t\t\t\t\t  } )}\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t  </div>\r\n\t\t\t  </div>\r\n\t\t  </div>\r\n\t  </div>\r\n\t)\r\n};\r\n\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n\treturn <div className={s.contactsItem}><b>{contactTitle}</b>: {contactValue}</div>\r\n};\r\n\r\n\r\nexport default Profileinfo;","import React from \"react\";\r\nimport s from \"./Post.module.css\";\r\nimport userPhoto from \"../../../../assets/img/userphoto.png\";\r\n\r\nfunction Post(props) {\r\n\t\r\n\treturn (\r\n\t  <div className={s.item}>\r\n\t\t  <div className={s.postInfo}>\r\n\t\t\t  <img src={props.profile.photos.large || userPhoto} alt=\"userAvatar\"/>\r\n\t\t\t  <div className={s.likes}>\r\n\t\t\t\t  <div className={s.like}>\r\n\t\t\t\t\t  &#10084;\r\n\t\t\t\t  </div>\r\n\t\t\t\t  <div className={s.likesCounts}>{props.likesCounts}</div>\r\n\t\t\t  </div>\r\n\t\t  </div>\r\n\t\t  <div className={s.message}>{props.message}</div>\r\n\t  </div>\r\n\t);\r\n}\r\n\r\nexport default Post;","import React, {PureComponent} from \"react\";\r\nimport s from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport {Field, form, reduxForm, reset} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsContols/FormsControls\";\r\nimport userPhoto from \"../../../assets/img/userphoto.png\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\n\r\n\r\nclass MyPosts extends PureComponent{\r\n\t\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t// \treturn nextProps !== this.props || nextState !== this.state; // сравнение для рендара\r\n\t// }\r\n\t\r\n\tonAddPost = (values) => {\r\n\t\tthis.props.addPost(values.newPostText);\r\n\t};\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tif(!this.props.profile) {\r\n\t\t\treturn <Preloader/>\r\n\t\t}\r\n\t\treturn (\r\n\t\t  <div className={s.myPosts}>\r\n\t\t\t  <h3>My posts</h3>\r\n\t\t\t  <div className={s.newPost}>\r\n\t\t\t\t <AddPostForm onSubmit={this.onAddPost}/>\r\n\t\t\t  </div>\r\n\t\t\t  <div className={s.posts}>\r\n\t\t\t\t  {this.props.posts.map(p => <Post\r\n\t\t\t\t\t message={p.message}\r\n\t\t\t\t\t likesCounts={p.likesCounts}\r\n\t\t\t\t\t key={p.id}\r\n\t\t\t\t\t profile={this.props.profile} />)}\r\n\t\t\t  </div>\r\n\t\t  </div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nfunction AddPostForm (props) {\r\n\treturn (\r\n\t  <form onSubmit={props.handleSubmit}>\r\n\t\t  <div>\r\n\t\t\t  <div>\r\n\t\t\t\t  <Field component={Textarea} name=\"newPostText\"\r\n\t\t\t\t\t\t\tvalidate={[required, maxLength10]}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter your post\" />\r\n\t\t\t  </div>\r\n\t\t\t  <div>\r\n\t\t\t\t  <button>Send</button>\r\n\t\t\t  </div>\r\n\t\t  </div>\r\n\t  </form>\r\n\t)\r\n}\r\n\r\nconst afterSubmit = (result, dispatch) =>\r\n  dispatch(reset('addPostForm'));\r\n\r\nAddPostForm = reduxForm({form: \"addPostForm\", onSubmitSuccess: afterSubmit})(AddPostForm);\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport {addPostActionCreator, updateNewPostActionCreator} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state,props) => {\r\n\treturn {\r\n\t\tnewPostText: state.profilePage.newPostText,\r\n\t\tposts: state.profilePage.posts,\r\n\t\tprofile: props.profile\r\n\t}\r\n};\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddPost: (newPostText) => {\r\n\t\t\tdispatch(addPostActionCreator(newPostText))\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nconst MyPostContainer = connect(mapStateToProps, mapDispatchToProps) (MyPosts);\r\n\r\nexport default MyPostContainer;","import React from \"react\";\r\nimport Profileinfo from \"./Profileinfo/Profileinfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport s from \"./Profile.module.css\"\r\n\r\n\r\nfunction Profile(props) {\r\n\treturn (\r\n\t  <div className={s.profile}>\r\n\t\t  <Profileinfo profile={props.profile}\r\n\t\t\t\t\t\t\tstatus={props.status}\r\n\t\t\t\t\t\t\tupdateStatus={props.updateStatus}\r\n\t\t\t\t\t\t\tisOwner={props.isOwner}\r\n\t\t\t\t\t\t\tsavePhoto={props.savePhoto}\r\n\t\t\t\t\t\t\tsaveProfile={props.saveProfile}/>\r\n\t\t  <MyPostsContainer profile={props.profile} />\r\n\t  </div>\r\n\t);\r\n}\r\n\r\n\r\nexport default Profile;\r\n\r\n","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\t\r\n\trefreshProfile () {\r\n\t\tlet userId = this.props.match.params.userId;\r\n\t\tif (!userId) {\r\n\t\t\tuserId = this.props.authorizedUserId;\r\n\t\t\tif(!userId) {\r\n\t\t\t\tthis.props.history.push(\"/login\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.props.getUserProfile(userId);\r\n\t\tthis.props.getStatus(userId);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.refreshProfile();\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tif (this.props.match.params.userId !== prevProps.match.params.userId )\r\n\t\tthis.refreshProfile();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t  <Profile {...this.props}\r\n\t\t\t\t\t\t  isOwner={!this.props.match.params.userId}\r\n\t\t\t\t\t\t  profile={this.props.profile}\r\n\t\t\t\t\t\t  status={this.props.status}\r\n\t\t\t\t\t\t  updateStatus={this.props.updateStatus}\r\n\t\t\t\t\t\t  saveProfile={this.props.saveProfile} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tprofile: state.profilePage.profile,\r\n\tstatus:state.profilePage.status,\r\n\tauthorizedUserId: state.auth.userId,\r\n\tisAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n  withRouter,\r\n)(ProfileContainer);\r\n\r\n"],"sourceRoot":""}