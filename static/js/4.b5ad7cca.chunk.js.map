{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/Dialogitem/Dialogsitem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","hoc/WithAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogItem","props","path","id","className","s","dialog","to","activeClassName","active","ava","name","Message","undefined","messageMe","message","Dialogs","state","dialogsPage","addNewMessage","values","sendMessage","newMessageBody","dialogs","dialogs_items","this","map","d","key","messages","m","AddMessageFormRedux","onSubmit","React","Component","maxLength50","maxLengthCreator","reduxForm","form","onSubmitSuccess","result","dispatch","reset","handleSubmit","newMessage","Field","component","Textarea","validate","required","placeholder","mapStateToPropsForRedirect","isAuth","auth","compose","connect","addMessageActionCreator","RedirectComponent"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,cAAgB,+BAA+B,OAAS,wBAAwB,IAAM,qBAAqB,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,yBAAyB,UAAY,2BAA2B,WAAa,8B,+HCiB9SC,MAdf,SAAoBC,GAEnB,IAAIC,EAAO,YAAcD,EAAME,GAE/B,OACC,yBAAKC,UAAWC,IAAEC,QACjB,kBAAC,IAAD,CAASC,GAAIL,EAAMM,gBAAiBH,IAAEI,QACrC,yBAAKL,UAAWC,IAAEK,KAAMT,EAAMS,KAC7BT,EAAMU,QCWIC,MApBf,SAAiBX,GAEhB,YAAwBY,IAApBZ,EAAMa,UAER,yBAAKV,UAAWC,IAAEU,SAAUd,EAAMc,cAEPF,IAAlBZ,EAAMc,QAEf,yBAAKX,UAAWC,IAAES,WAAYb,EAAMa,WAIpC,6BACC,yBAAKV,UAAWC,IAAEU,SAAUd,EAAMc,SAClC,yBAAKX,UAAWC,IAAES,WAAYb,EAAMa,a,yCCRlCE,E,4MAELC,MAAQ,EAAKhB,MAAMiB,Y,EAEnBC,cAAgB,SAACC,GAChB,EAAKnB,MAAMoB,YAAYD,EAAOE,iB,uDAI9B,OACE,yBAAKlB,UAAWC,IAAEkB,SACjB,yBAAKnB,UAAWC,IAAEmB,eAChBC,KAAKR,MAAMM,QAAQG,KAAI,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAC7BhB,KAAMgB,EAAEhB,KACRR,GAAIwB,EAAExB,GACNO,IAAKiB,EAAEjB,IACPkB,IAAKD,EAAExB,SAER,yBAAKC,UAAWC,IAAEwB,UACjB,6BACEJ,KAAKxB,MAAMiB,YAAYW,SAASH,KAAK,SAAAI,GAAC,OAAI,kBAAC,EAAD,CAC5Cf,QAASe,EAAEf,QACXD,UAAWgB,EAAEhB,UACbc,IAAKE,EAAE3B,SAEP,6BACC,kBAAC4B,EAAD,CAAqBC,SAAUP,KAAKN,uB,GA1BrBc,IAAMC,WAkCtBC,EAAcC,YAAiB,IAuB/BL,EAAsBM,YAAU,CAACC,KAAM,uBAAwBC,gBAHjD,SAACC,EAAQC,GAAT,OAClBA,EAASC,YAAM,2BAEWL,EArBL,SAACpC,GACvB,OACE,0BAAM+B,SAAU/B,EAAM0C,cACrB,yBAAKvC,UAAWC,IAAEuC,YACjB,6BACC,kBAACC,EAAA,EAAD,CAAOC,UAAWC,IAAUpC,KAAK,iBAChCqC,SAAU,CAACC,IAAUd,GACrBe,YAAY,wBAEd,6BACC,8CAaSlC,I,gBC/DXmC,EAA6B,SAAClC,GAAD,MAAY,CAC5CmC,OAAQnC,EAAMoC,KAAKD,S,OCgBLE,sBACbC,aAhBoB,SAACtC,GACtB,MAAO,CACNC,YAAaD,EAAMC,gBAGI,SAACuB,GACzB,MAAO,CACNpB,YAAa,SAACC,GACbmB,EAASe,YAAwBlC,UDNJ,SAACY,GAAe,IAEzCuB,EAFwC,uKAI5C,OAAKhC,KAAKxB,MAAMmD,OAET,kBAAClB,EAAcT,KAAKxB,OAFI,kBAAC,IAAD,CAAUM,GAAI,eAJD,GAEd0B,IAAMC,WAOtC,OAAOqB,YAAQJ,EAARI,CAAoCE,KCI7BH,CAGZtC","file":"static/js/4.b5ad7cca.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1IBxz\",\"dialogs_items\":\"Dialogs_dialogs_items__2A_h_\",\"dialog\":\"Dialogs_dialog__1p9cX\",\"ava\":\"Dialogs_ava__1i8uy\",\"active\":\"Dialogs_active__3dDcY\",\"messages\":\"Dialogs_messages__1lBPI\",\"message\":\"Dialogs_message__ilQnU\",\"messageMe\":\"Dialogs_messageMe__cuUt9\",\"newMessage\":\"Dialogs_newMessage__VrZaj\"};","import React from \"react\";\r\nimport s from \"./../Dialogs.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nfunction DialogItem(props) {\r\n\t\r\n\tlet path = \"/dialogs/\" + props.id;\r\n\t\r\n\treturn (\r\n\t\t<div className={s.dialog}>\r\n\t\t\t<NavLink to={path} activeClassName={s.active}>\r\n\t\t\t\t<div className={s.ava}>{props.ava}</div>\r\n\t\t\t\t{props.name}\r\n\t\t\t</NavLink>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DialogItem;","import React from \"react\";\r\nimport s from \"./../Dialogs.module.css\";\r\n\r\nfunction Message(props) {\r\n\t\r\n\tif (props.messageMe === undefined) {\r\n\t\treturn (\r\n\t\t\t<div className={s.message}>{props.message}</div>\r\n\t\t)\r\n\t} else if (props.message === undefined) {\r\n\t\treturn (\r\n\t\t\t<div className={s.messageMe}>{props.messageMe}</div>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className={s.message}>{props.message}</div>\r\n\t\t\t\t<div className={s.messageMe}>{props.messageMe}</div>\r\n\t\t\t</div>\r\n\t\t\t)\r\n\t}\r\n}\r\n\r\nexport default Message;","import React from \"react\";\r\nimport s from \"./Dialogs.module.css\";\r\nimport DialogItem from \"./Dialogitem/Dialogsitem\"\r\nimport Message from \"./Message/Message\"\r\nimport {Field, form, reduxForm, reset} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsContols/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\n\r\n\r\nclass Dialogs extends React.Component {\r\n\t\r\n\tstate = this.props.dialogsPage;\r\n\t\r\n\taddNewMessage = (values) => {\r\n\t\tthis.props.sendMessage(values.newMessageBody);\r\n\t};\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t  <div className={s.dialogs}>\r\n\t\t\t  <div className={s.dialogs_items}>\r\n\t\t\t\t  {this.state.dialogs.map(d => <DialogItem\r\n\t\t\t\t\t name={d.name}\r\n\t\t\t\t\t id={d.id}\r\n\t\t\t\t\t ava={d.ava}\r\n\t\t\t\t\t key={d.id} /> )}\r\n\t\t\t  </div>\r\n\t\t\t  <div className={s.messages}>\r\n\t\t\t\t  <div>\r\n\t\t\t\t\t  {this.props.dialogsPage.messages.map (m => <Message\r\n\t\t\t\t\t message={m.message}\r\n\t\t\t\t\t messageMe={m.messageMe}\r\n\t\t\t\t\t key={m.id} /> )}\r\n\t\t\t\t  </div>\r\n\t\t\t\t  <div>\r\n\t\t\t\t\t  <AddMessageFormRedux onSubmit={this.addNewMessage}/>\r\n\t\t\t\t  </div>\r\n\t\t\t  </div>\r\n\t\t  </div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst AddMessageForm = (props) => {\r\n\treturn (\r\n\t  <form onSubmit={props.handleSubmit}>\r\n\t\t  <div className={s.newMessage}>\r\n\t\t\t  <div>\r\n\t\t\t\t  <Field component={Textarea} name=\"newMessageBody\"\r\n\t\t\t\t\t\t\tvalidate={[required, maxLength50]}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter your message\" />\r\n\t\t\t  </div>\r\n\t\t\t  <div>\r\n\t\t\t\t  <button>Send</button>\r\n\t\t\t  </div>\r\n\t\t  </div>\r\n\t\t  \r\n\t  </form>\r\n\t)\r\n};\r\n\r\nconst afterSubmit = (result, dispatch) =>\r\n  dispatch(reset('dialogAddMessageForm'));\r\n\r\nconst AddMessageFormRedux = reduxForm({form: \"dialogAddMessageForm\", onSubmitSuccess: afterSubmit})(AddMessageForm);\r\n\r\nexport default Dialogs;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n\tisAuth: state.auth.isAuth\r\n});\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n\t\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif (!this.props.isAuth) return <Redirect to={\"/login\"}/>;\r\n\t\t\t\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\treturn connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n};\r\n","import React from \"react\";\r\nimport {addMessageActionCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tdialogsPage: state.dialogsPage,\r\n\t}\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsendMessage: (newMessageBody) => {\r\n\t\t\tdispatch(addMessageActionCreator(newMessageBody));\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  WithAuthRedirect\r\n) (Dialogs);"],"sourceRoot":""}