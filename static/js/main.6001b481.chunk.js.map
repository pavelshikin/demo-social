{"version":3,"sources":["assets/img/userphoto.png","redux/dialogs-reducer.js","components/News/News.module.css","components/Music/Music.module.css","components/Settings/Settings.module.css","assets/img/3.gif","components/common/Preloader/Preloader.module.css","api/api.js","components/Users/Users.module.css","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","redux/auth-reducer.js","components/Login/Login.jsx","utils/objects-helper.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/app-reducer.js","redux/navbar-reducer.js","redux/redux-store.js","hoc/WithSuspense.js","App.js","serviceWorker.js","index.js","components/common/Preloader/Preloader.jsx","components/Header/Header.module.css","components/common/FormsContols/FormsControls.js","components/common/FormsContols/FormsControls.module.css","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","components/Navbar/Navbar.module.css","components/Login/Login.module.css","redux/profile-reducer.js"],"names":["module","exports","initialState","dialogs","id","name","ava","messages","message","messageMe","addMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","newMessage","length","instance","axios","withCredentials","baseURL","headers","usersApi","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileApi","getStatus","updateStatus","status","put","authApi","me","login","email","password","rememberMe","logout","Navbar","props","className","s","navbar","menu","item","active","to","activeClassName","News","news","Music","music","Settings","settings","isAuth","setAuthUserData","payload","getAuthUserData","dispatch","a","resultCode","authReducer","LoginReduxForm","reduxForm","form","onSubmitSuccess","result","reset","handleSubmit","error","onSubmit","loginForm","createField","required","Input","Field","component","style","formSummeryError","connect","auth","stopSubmit","_error","formData","updateObjectsInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","totalCount","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionNumber","paginator","pag","onClick","p","selectedPage","key","e","User","user","userItem","src","photos","small","userPhoto","alt","disabled","some","userInfo","fullName","location","city","Users","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","this","Preloader","React","Component","compose","bind","page","Header","header","logo","loginBlock","loginBtn","HeaderContainer","initialized","appReducer","friends","navbarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","app","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","WithSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","MainApp","basename","process","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","preloader","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","placeholder","validators","validate","value","maxLengthCreator","maxLength","posts","likesCounts","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.6001b481.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/userphoto.1c997e59.png\";","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n\tdialogs: [\r\n\t\t{id: 1, name: 'Vasya', ava: '1'},\r\n\t\t{id: 2, name: 'Petya', ava: '2'},\r\n\t\t{id: 3, name: 'Ignat', ava: '3'},\r\n\t\t{id: 4, name: 'Alex', ava: '4'},\r\n\t\t{id: 5, name: 'Sveta', ava: '5'},\r\n\t\t{id: 6, name: 'Valera', ava: '6'},\r\n\t],\r\n\tmessages: [\r\n\t\t{id: 1, message: 'Hi!'},\r\n\t\t{id: 2, message: 'How are you?'},\r\n\t\t{id: 3, message: 'Yo', messageMe: 'Hi! I\\'m fine!'},\r\n\t\t{id: 4, messageMe: 'How are you? Text Text Text Text Text Text Text Text'},\r\n\t\t{id: 5, message: 'Fine!', messageMe: 'It\\'s good!'},\r\n\t]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\t\r\n\tswitch (action.type) {\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\tlet newMessage = {\r\n\t\t\t\tid: state.messages[state.messages.length - 1].id + 1,\r\n\t\t\t\tmessageMe: action.newMessageBody\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessages: [...state.messages, newMessage]\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => ({type:SEND_MESSAGE, newMessageBody});\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__2Gd__\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music\":\"Music_music__2zUz2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__2xCJD\"};","module.exports = \"data:image/gif;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__yOn_r\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0',\r\n\theaders: {\"API-KEY\": \"8a6ad4af-f25c-4576-91b8-981c838cf476\"},\r\n});\r\n\r\nexport const usersApi = {\r\n\tgetUsers(currentPage = 1, pageSize = 10) {\r\n\t\treturn instance.get(`/users?page=${currentPage}&count=${pageSize}`)\r\n\t\t.then(response => response.data); // => {return response.data}\r\n\t},\r\n\tfollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`)\r\n\t\t.then(response => response.data)\r\n\t},\r\n\tunfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t\t.then(response => response.data)\r\n\t},\r\n\tgetProfile(userId) {\r\n\t\tconsole.warn('Obsolete method. Please used profile obj.');\r\n\t\treturn profileApi.getProfile(userId);\r\n\t}\r\n};\r\n\r\nexport const profileApi = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/`+ userId)\r\n\t\t.then (response => response.data)\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/`+ userId)\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status/`, {status: status})   // отправляет объект со свойством status\r\n\t}\r\n};\r\n\r\nexport const authApi = {\r\n\tme(){\r\n\t\treturn instance.get(`auth/me`);\r\n\t},\r\n\tlogin(email, password, rememberMe = false) {\r\n\t\treturn instance.post(`/auth/login`, {email, password, rememberMe})\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`/auth/login`)\r\n\t},\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPage\":\"Users_usersPage__jAE_m\",\"userItem\":\"Users_userItem__BBKXY\",\"user\":\"Users_user__2TriJ\",\"ava\":\"Users_ava__1utAn\",\"userInfo\":\"Users_userInfo__2vaqv\",\"name\":\"Users_name__3q30K\",\"fullName\":\"Users_fullName__11yoG\",\"status\":\"Users_status__3-p7F\",\"location\":\"Users_location__2b0Zi\",\"city\":\"Users_city__2jlBy\"};","import React from \"react\";\r\nimport s from \"./Navbar.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport MyFriends from \"./MyFriends/MyFriends\";\r\n\r\nfunction Navbar(props) {\r\n\t\r\n\treturn (\r\n\t\t<div className={s.navbar}>\r\n\t\t\t<div className={s.menu}>\r\n\t\t\t\t<div className={`${s.item} ${s.active}`}>\r\n\t\t\t\t\t<NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\t<NavLink to='/dialogs' activeClassName={s.active}>Messages</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\t<NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\t<NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\t<NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\t<NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*<div className={s.item}>*/}\r\n\t\t\t\t{/*\t<MyFriends friends={props.state.friends} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Navbar;","import React from \"react\";\r\nimport s from \"./News.module.css\";\r\n\r\n\r\nfunction News() {\r\n\treturn (\r\n\t\t<div className={s.news}>\r\n\t\t\tNews\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n\r\nexport default News;","import React from \"react\";\r\nimport s from \"./Music.module.css\";\r\n\r\n\r\nfunction Music() {\r\n\treturn (\r\n\t\t<div className={s.music}>\r\n\t\t\tMusic\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n\r\nexport default Music;","import React from \"react\";\r\nimport s from \"./Settings.module.css\";\r\n\r\n\r\nfunction Settings() {\r\n\treturn (\r\n\t\t<div className={s.settings}>\r\n\t\t\tSettings\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n\r\nexport default Settings;","import {authApi} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n\tid: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false,\r\n};\r\n\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\t\treturn  {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n\ttype: SET_USER_DATA, payload: {userId, email, login, isAuth}});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\tlet response = await authApi.me();\r\n\t\r\n\tif (response.data.resultCode === 0) {\r\n\t\tlet {id, login, email} = response.data.data;\r\n\t\tdispatch(setAuthUserData(id, email, login, true));\r\n\t}\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n\tlet response = await authApi.login(email, password, rememberMe);\r\n\t\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(getAuthUserData());\r\n\t} else {\r\n\t\tlet message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n\t\tdispatch(stopSubmit(\"login\", {_error: message}));\r\n\t}\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\tlet response = await authApi.logout();\r\n\t\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false));\r\n\t}\r\n};\r\n\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport s from \"./Login.module.css\"\r\nimport style from \"../common/FormsContols/FormsControls.module.css\"\r\nimport {Field, reduxForm, reset} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsContols/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n\treturn (\r\n\t  <form onSubmit={handleSubmit}>\r\n\t\t  <div className={s.loginForm}>\r\n\t\t\t  {createField(\"Email\", \"email\", [required], Input)}\r\n\t\t\t  {createField(\"Password\", \"password\", [required], Input, \"password\")}\r\n\t\t\t  <div>\r\n\t\t\t\t  <Field component={\"input\"} name={\"rememberMe\"} type={\"checkbox\"} /> Remember me\r\n\t\t\t  </div>\r\n\t\t\t  { error && <div className={style.formSummeryError}>\r\n\t\t\t\t {error}\r\n\t\t\t  </div> }\r\n\t\t\t  <div>\r\n\t\t\t\t  <button>Sign Up</button>\r\n\t\t\t  </div>\r\n\t\t  </div>\r\n\t  </form>\r\n\t)\r\n};\r\n\r\nconst afterSubmit = (result, dispatch) =>\r\n  dispatch(reset('login'));\r\n\r\nconst LoginReduxForm = reduxForm ({form: 'login', onSubmitSuccess: afterSubmit}) (LoginForm);\r\n\r\nconst Login = (props) => {\r\n\tconst onSubmit = (formData) => {\r\n\t\tprops.login(formData.email, formData.password, formData.rememberMe);\r\n\t};\r\n\t\r\n\t\r\n\tif(props.isAuth) {\r\n\t\treturn <Redirect to={\"/profile\"} />\r\n\t}\r\n\treturn (\r\n\t  <div className={s.login}>\r\n\t\t  <h2>Login</h2>\r\n\t\t \t<LoginReduxForm onSubmit={onSubmit}  />\r\n\t  </div>\r\n\t)\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth\r\n});\r\n\r\nexport default connect (mapStateToProps, {login}) (Login);","\r\n\r\nexport const updateObjectsInArray = (items, itemId, objPropName, newObjProps) => {\r\n\treturn items.map( u => {\r\n\t\tif (u[objPropName] === itemId) {\r\n\t\t\treturn {...u, ...newObjProps}\r\n\t\t}\r\n\t\treturn u;\r\n\t})\r\n};","import {usersApi} from \"../api/api\";\r\nimport {updateObjectsInArray} from \"../utils/objects-helper\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 10,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: true,\r\n\tfollowingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn  {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectsInArray(state.users, action.userId, \"id\", {followed: true} )\r\n\t\t\t};\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn  {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectsInArray(state.users, action.userId, \"id\", {followed: false} )\r\n\t\t\t};\r\n\t\tcase SET_USERS: {\r\n\t\t\treturn  {...state, users: action.users} //склеиваем 2 массива\r\n\t\t}\r\n\t\tcase SET_CURRENT_PAGE: {\r\n\t\t\treturn  {...state, currentPage: action.currentPage}\r\n\t\t}\r\n\t\tcase SET_TOTAL_USERS_COUNT: {\r\n\t\t\treturn  {...state, totalUsersCount: action.totalCount}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FETCHING: {\r\n\t\t\treturn  {...state, isFetching: action.isFetching}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n\t\t\tdebugger;\r\n\t\t\treturn  {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.isFetching\r\n\t\t\t\t  ? [...state.followingInProgress, action.userId]\r\n\t\t\t\t  : state.followingInProgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, totalCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\t\r\n\t\tdispatch(setCurrentPage(page));\r\n\t\tdispatch(toggleIsFetching(true));\r\n\t\t\r\n\t\tlet data = await usersApi.getUsers(page, pageSize);\r\n\t\tdispatch(toggleIsFetching(false));\r\n\t\tdispatch(setUsers(data.items));\r\n\t\tdispatch(setTotalUsersCount(data.totalCount));\r\n\t}\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\tdispatch(toggleFollowingProgress(true, userId));\r\n\tlet data = await apiMethod(userId);\r\n\t\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId));\r\n\t}\r\n\tdispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tawait followUnfollowFlow(dispatch, userId, usersApi.follow.bind(userId), followSuccess);\r\n\t}\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tawait followUnfollowFlow(dispatch, userId, usersApi.unfollow.bind(userId), unfollowSuccess);\r\n\t}\r\n};\r\n\r\n\r\nexport default usersReducer;","import React, {useState} from \"react\";\r\nimport s from \"./Paginator.module.css\";\r\n\r\nlet Paginator = ({currentPage, totalItemsCount, pageSize, onPageChanged, portionSize = 10}) => {\r\n\t\r\n\tlet pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\t\r\n\tlet pages = [];\r\n\tfor (let i = 1; i <= pagesCount; i++) {\r\n\t\tpages.push(i);\r\n\t}\r\n\t\r\n\tlet portionCount = Math.ceil(pagesCount / portionSize);\r\n\tlet [portionNumber, setPortionNumber] = useState(1);\r\n\tlet leftPortionPageNumber = (portionNumber - 1) * portionSize +1;\r\n\tlet rightPortionNumber = portionNumber * portionSize;\r\n\t\r\n\treturn (\r\n\t  <div className={s.paginator}>\r\n\t\t  {portionNumber > 1 &&\r\n\t\t  <span>\r\n\t\t\t  <button className={s.pag} onClick={() => setPortionNumber(1)}>begin</button>\r\n\t\t\t  <button onClick={() => setPortionNumber(portionNumber - 1)}>&#8592;</button>\r\n\t\t  </span>}\r\n\t\t  \r\n\t\t  {pages\r\n\t\t  .filter(p => p >= leftPortionPageNumber && p <= rightPortionNumber)\r\n\t\t  .map(p => {\r\n\t\t\t  return <span className={currentPage === p && s.selectedPage} key={p.id}\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\tonPageChanged(p);\r\n\t\t\t\t\t\t\t\t}}>{p}</span>\r\n\t\t  })}\r\n\t\t  \r\n\t\t  {portionCount > portionNumber &&\r\n\t\t  <span>\r\n\t\t\t  <button onClick={() => setPortionNumber(portionNumber + 1)}>&#8594;</button>\r\n\t\t\t  <button className={s.pag} onClick={() => setPortionNumber(portionCount)}>end</button>\r\n\t\t\t </span>}\r\n\t  </div>\r\n\t)\r\n};\r\n\r\nexport default Paginator;\r\n","import React from \"react\";\r\nimport s from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/img/userphoto.png\";\r\nimport {NavLink} from \"react-router-dom\"\r\n\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n\treturn (\r\n\t  <div className={s.userItem}>\r\n\t\t  <div className={s.user}>\r\n\t\t\t  <div className={s.ava}>\r\n\t\t\t\t  <NavLink to={'/profile/' + user.id}>\r\n\t\t\t\t\t  <img src={user.photos.small !== null ? user.photos.small : userPhoto} alt={'Avatar'}/>\r\n\t\t\t\t  </NavLink>\r\n\t\t\t  </div>\r\n\t\t\t  <div>\r\n\t\t\t\t  {user.followed\r\n\t\t\t\t\t ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n\t\t\t\t\t\t\t\t  onClick={() => {\r\n\t\t\t\t\t\t\t\t\t  unfollow(user.id);\r\n\t\t\t\t\t\t\t\t  }}>\r\n\t\t\t\t\t\t Unfollow</button>\r\n\t\t\t\t\t \r\n\t\t\t\t\t : <button disabled={followingInProgress.some(id => id === user.id)}\r\n\t\t\t\t\t\t\t\t  onClick={() => {\r\n\t\t\t\t\t\t\t\t\t  follow(user.id);\r\n\t\t\t\t\t\t\t\t  }}>\r\n\t\t\t\t\t\t Follow</button>}\r\n\t\t\t  </div>\r\n\t\t  </div>\r\n\t\t  <div className={s.userInfo}>\r\n\t\t\t  <div className={s.name}>\r\n\t\t\t\t  <div className={s.fullName}>{user.name}</div>\r\n\t\t\t\t  <div className={s.status}>{user.status}</div>\r\n\t\t\t  </div>\r\n\t\t\t  <div className={s.location}>\r\n\t\t\t\t  <div>{\"user.location.country\"},</div>\r\n\t\t\t\t  <div className={s.city}>{\"user.location.city\"}</div>\r\n\t\t\t  </div>\r\n\t\t  </div>\r\n\t  </div>\r\n\t)\r\n};\r\n\r\nexport default User;","import React from \"react\";\r\nimport s from \"./Users.module.css\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, ...props}) => {\r\n\treturn (\r\n\t  <div className={s.usersPage}>\r\n\t\t  <Paginator currentPage={currentPage} totalItemsCount={totalUsersCount}\r\n\t\t\t\t\t\t onPageChanged={onPageChanged} pageSize={pageSize}/>\r\n\t\t  <div>\r\n\t\t\t  {props.users.map(u => <User user={u}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfollowingInProgress={props.followingInProgress}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tunfollow={props.unfollow}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfollow={props.follow}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={u.id}\r\n\t\t\t\t />\r\n\t\t\t  )}\r\n\t\t  </div>\r\n\t  </div>\r\n\t)\r\n};\r\n\r\nexport default Users;","\r\nexport const getUsers = (state) => {\r\n\treturn state.usersPage.users;\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n\treturn state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n\treturn state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n\treturn state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n\treturn state.usersPage.followingInProgress;\r\n};\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n\tfollow,\r\n\tunfollow,\r\n\tsetCurrentPage,\r\n\trequestUsers\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n\tgetCurrentPage,\r\n\tgetFollowingInProgress,\r\n\tgetIsFetching,\r\n\tgetPageSize,\r\n\tgetTotalUsersCount,\r\n\tgetUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tlet {currentPage, pageSize} = this.props;\r\n\t\tthis.props.requestUsers(currentPage, pageSize);\r\n\t}\r\n\t\r\n\tonPageChanged = (pageNumber) => {\r\n\t\tlet {pageSize} = this.props;\r\n\t\tthis.props.requestUsers(pageNumber, pageSize);\r\n\t};\r\n\t\r\n\trender() {\r\n\t\treturn <>\r\n\t\t\t{this.props.isFetching ? <Preloader/> : null}\r\n\t\t\t<Users totalUsersCount={this.props.totalUsersCount}\r\n\t\t\t\t\t pageSize={this.props.pageSize}\r\n\t\t\t\t\t currentPage={this.props.currentPage}\r\n\t\t\t\t\t onPageChanged={this.onPageChanged}\r\n\t\t\t\t\t users={this.props.users}\r\n\t\t\t\t\t follow={this.props.follow}\r\n\t\t\t\t\t unfollow={this.props.unfollow}\r\n\t\t\t\t\t followingInProgress={this.props.followingInProgress}\r\n\t\t\t/>\r\n\t\t</>\r\n\t}\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n// \treturn {\r\n// \t\tusers: state.usersPage.users,\r\n// \t\tpageSize: state.usersPage.pageSize,\r\n// \t\ttotalUsersCount: state.usersPage.totalUsersCount,\r\n// \t\tcurrentPage: state.usersPage.currentPage,\r\n// \t\tisFetching: state.usersPage.isFetching,\r\n// \t\tfollowingInProgress:state.usersPage.followingInProgress\r\n// \t}\r\n// };\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: getUsers(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalUsersCount: getTotalUsersCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowingInProgress: getFollowingInProgress(state)\r\n\t}\r\n};\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {setCurrentPage, follow, unfollow, requestUsers}),\r\n) (UsersContainer);","import React from \"react\";\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n\treturn (\r\n\t  <div className={s.header}>\r\n\t\t  <div className={s.logo}><img src='https://www.vippng.com/png/full/6-60041_music-logo-maker.png' alt='logo'/></div>\r\n\t\t  <div className={s.loginBlock}>\r\n\t\t\t  {props.isAuth\r\n\t\t\t\t ? <div>\r\n\t\t\t\t\t <div className={s.login}>\r\n\t\t\t\t\t\t {props.login}\r\n\t\t\t\t\t\t <button onClick={props.logout}>Log out</button>\r\n\t\t\t\t\t </div>\r\n\t\t\t\t \t</div>\r\n\t\t\t\t : <NavLink to={'/login'}><button className={s.loginBtn}>Login</button></NavLink>}\r\n\t\t  </div>\r\n\t  </div>\r\n\t);\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component{\r\n\trender() {\r\n\t\treturn <Header {...this.props}/>\r\n\t}\r\n}\r\n\r\nlet mpStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tlogin: state.auth.login,\r\n});\r\n\r\n\r\nexport default connect(mpStateToProps, {logout}) (HeaderContainer);","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n\tinitialized: false,\r\n};\r\n\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZED_SUCCESS:\r\n\t\t\treturn  {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n\tlet promise = dispatch(getAuthUserData());\r\n\tPromise.all([promise])                           //если мгого промсов перед диспатчем\r\n\t.then( () => {\r\n\t\tdispatch(initializedSuccess());\r\n\t});\r\n};\r\n\r\n\r\n\r\n\r\nexport default appReducer;","let initialState = {\r\n\tfriends: [\r\n\t\t{id: 1, name: 'Alex', ava: '4'},\r\n\t\t{id: 2, name: 'Sveta', ava: '5'},\r\n\t\t{id: 3, name: 'Valera', ava: '6'}\r\n\t]\r\n};\r\n\r\nconst navbarReducer = (state = initialState, action) => {\r\n\treturn state;\r\n};\r\n\r\nexport default navbarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport navbarReducer from \"./navbar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tdialogsPage: dialogsReducer,\r\n\tnavbar: navbarReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tapp: appReducer,\r\n\tform: formReducer\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React, {Suspense} from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\n\r\nexport const WithSuspense = (Component) => {\r\n\t\r\n\treturn (props) => {\r\n\t\treturn <Suspense fallback={<Preloader/>} >\r\n\t\t\t<Component {...props} />\r\n\t\t</Suspense>\r\n\t}\r\n};\r\n","import React, {Component} from 'react';\r\nimport {HashRouter, BrowserRouter, Route, withRouter} from \"react-router-dom\";\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport Login from \"./components/Login/Login\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport {compose} from \"redux\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport store from \"./redux/redux-store\";\r\nimport {WithSuspense} from \"./hoc/WithSuspense\";\r\n\r\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\r\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\r\n\r\n\r\nclass App extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.initializeApp();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tif (!this.props.initialized) {\r\n\t\t\treturn <Preloader/>\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t  <div className='app-wrapper'>\r\n\t\t\t  <HeaderContainer/>\r\n\t\t\t  <Navbar/>\r\n\t\t\t  <div className='app-wrapper-content'>\r\n\t\t\t\t  \r\n\t\t\t\t  <Route path='/profile/:userId?'\r\n\t\t\t\t\t\t\trender={WithSuspense(ProfileContainer)}/>\r\n\t\t\t\t  \r\n\t\t\t\t  <Route path='/dialogs'\r\n\t\t\t\t\t\t\trender={WithSuspense(DialogsContainer)}/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t  <Route path='/news' component={News}/>\r\n\t\t\t\t  <Route path='/music' component={Music}/>\r\n\t\t\t\t  <Route path='/users' render={() => <UsersContainer/>}/>\r\n\t\t\t\t  <Route path='/settings' component={Settings}/>\r\n\t\t\t\t  <Route path='/login' render={() => <Login/>}/>\r\n\t\t\t  </div>\r\n\t\t  </div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tinitialized: state.app.initialized\r\n});\r\n\r\nlet AppContainer = compose(\r\n  withRouter,\r\n  connect (mapStateToProps, {initializeApp})) (App);\r\n\r\nconst MainApp = (props) => {\r\n\treturn (\r\n\t  <HashRouter basename={process.env.PUBLIC_URL}>  /*HashRouter вместо BrowserRouter  */\r\n\t\t  <Provider store={store}>\r\n\t\t\t  <AppContainer />\r\n\t\t  </Provider>\r\n\t  </HashRouter>\r\n\t)\r\n};\r\n\r\nexport default MainApp;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport MainApp from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\nReactDOM.render(<MainApp />, document.getElementById('root'));\r\n\r\nserviceWorker.unregister();\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport preloader from \"../../../assets/img/3.gif\";\r\nimport s from \"./Preloader.module.css\";\r\n\r\nlet Preloader = (props) => {\r\n\treturn (\r\n\t  <div className={s.preloader}>\r\n\t\t  <img src={preloader} alt={\"preloader\"}/>\r\n\t  </div>\r\n\t)\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__j6-Td\",\"logo\":\"Header_logo__1DL_C\",\"loginBlock\":\"Header_loginBlock__1Wf9O\",\"login\":\"Header_login__3S1R9\",\"loginBtn\":\"Header_loginBtn__3c6_G\"};","import React from \"react\";\r\nimport s from \"./FormsControls.module.css\";\r\nimport {Field} from \"redux-form\";\r\n\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n\tconst hasError = touched && error;\r\n\treturn (\r\n\t  <div className={s.formControl + \" \" + (hasError ? s.error : \" \")}>\r\n\t\t  {children}\r\n\t\t  {hasError && <span>{error}</span>}\r\n\t  </div>\r\n\t)\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n\tconst {input, meta, children, ...restProps } = props;\r\n\treturn <FormControl {...props} > <textarea  {...input} {...restProps} /></FormControl>\r\n};\r\n\r\nexport const Input = (props) => {\r\n\tconst {input, meta, children, ...restProps } = props;\r\n\treturn <FormControl {...props} > <input  {...input} {...restProps} /></FormControl>\r\n};\r\n\r\nexport const createField = (placeholder, name, validators, component, type = \"text\", text, props ={}) => (\r\n  <div>\r\n\t  <Field placeholder={placeholder} name={name}\r\n\t\t\t\tvalidate={validators}\r\n\t\t\t\tcomponent={component} type={type}\r\n\t\t\t\t {...props}\r\n\t  />\r\n  </div>\r\n);\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2Xepa\",\"error\":\"FormsControls_error__2s21E\",\"formSummeryError\":\"FormsControls_formSummeryError__37kkS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3uhmt\",\"selectedPage\":\"Paginator_selectedPage__39uB7\",\"pag\":\"Paginator_pag__3HxFv\"};","\r\nexport const required = value => {\r\n\tif(value) return undefined;\r\n\t\r\n\treturn \"Field is required\"\r\n };\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n\tif(value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\treturn undefined;\r\n };","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__1nmOh\",\"menu\":\"Navbar_menu__1Mjeq\",\"item\":\"Navbar_item__3kfkC\",\"active\":\"Navbar_active__2cyM1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__2y64v\",\"loginForm\":\"Login_loginForm__27jlp\"};","import {profileApi, usersApi} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n\tposts: [\r\n\t\t{id: 3, likesCounts: 15, message: 'Hi! How ara you?'},\r\n\t\t{id: 2, likesCounts: 20, message: 'It\\'s my first post. It\\'s my first post .It\\'s my first post .It\\'s my first post . It\\'s my first post. It\\'s my first post'},\r\n\t\t{id: 1, likesCounts: 1, message: 'Yooo, man!'},\r\n\t],\r\n\tprofile: null,\r\n\tstatus: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: state.posts[0].id + 1,\r\n\t\t\t\tlikesCounts: 0,\r\n\t\t\t\tmessage: action.newPostText\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [newPost, ...state.posts]\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_STATUS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state, status: action.status\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_USER_PROFILE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state, profile: action.profile\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase DELETE_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state, posts: state.posts.filter(p => p.id !== action.postId)\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile}) ;\r\nexport const setStatus = (status) => ({type: SET_STATUS, status}) ;\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId}) ;\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n\tlet data = await usersApi.getProfile(userId);\r\n\tdispatch(setUserProfile(data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n\tlet response = await profileApi.getStatus(userId);\r\n\tdispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n\tlet response = await profileApi.updateStatus(status)\r\n\t\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setStatus(status));\r\n\t}\r\n};\r\n\r\nexport default profileReducer;"],"sourceRoot":""}